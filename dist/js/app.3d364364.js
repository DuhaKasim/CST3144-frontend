(function(){"use strict";var t={2759:function(t,e,o){var r=o(5130),n=o(6768);const a={class:"page-wrap"};function c(t,e,o,r,c,s){const u=(0,n.g2)("NavBar"),i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.bF)(u),(0,n.bF)(i)])}const s={class:"nav-bar"},u=["src"],i={class:"center-nav"};function d(t,e,o,r,a,c){const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.bF)(d,{to:"/products",class:"logo-wrap"},{default:(0,n.k6)(()=>[(0,n.Lk)("img",{src:a.logo,class:"logo"},null,8,u)]),_:1}),(0,n.Lk)("div",i,[(0,n.bF)(d,{to:"/",class:"nav-link"},{default:(0,n.k6)(()=>[...e[0]||(e[0]=[(0,n.eW)("Home",-1)])]),_:1}),(0,n.bF)(d,{to:"/products",class:"nav-link"},{default:(0,n.k6)(()=>[...e[1]||(e[1]=[(0,n.eW)("Products",-1)])]),_:1})]),(0,n.bF)(d,{to:"/cart",class:"cart-link"},{default:(0,n.k6)(()=>[...e[2]||(e[2]=[(0,n.Lk)("button",null,"Shopping Cart",-1)])]),_:1})])}var p=o.p+"img/logo.ad706654.png",l={name:"NavBar",data(){return{logo:p}}},h=o(1241);const m=(0,h.A)(l,[["render",d]]);var v=m,f={name:"App",components:{NavBar:v}};const k=(0,h.A)(f,[["render",c]]);var g=k,b=o(8512);const y={class:"page-wrap"},C={key:0},L={class:"checkout-form"},w={key:0,class:"error-msg"},E={key:1,class:"error-msg"},F=["disabled"],S={key:1};function P(t,e,o,a,c,s){const u=(0,n.g2)("ShoppingCartList");return(0,n.uX)(),(0,n.CE)("div",y,[e[4]||(e[4]=(0,n.Lk)("h1",null,"Shopping Cart",-1)),c.cartItems.length>0?((0,n.uX)(),(0,n.CE)("div",C,[(0,n.bF)(u,{onRemoveFromCart:e[0]||(e[0]=t=>s.removeFromCart(t)),products:c.cartItems},null,8,["products"]),(0,n.Lk)("div",L,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>c.name=t),placeholder:"Enter your name"},null,512),[[r.Jo,c.name]]),c.name&&!s.validName?((0,n.uX)(),(0,n.CE)("p",w,"Name must contain letters only.")):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>c.phone=t),placeholder:"Enter your phone number"},null,512),[[r.Jo,c.phone]]),c.phone&&!s.validPhone?((0,n.uX)(),(0,n.CE)("p",E," Phone must contain numbers only. ")):(0,n.Q3)("",!0),(0,n.Lk)("button",{class:"checkout-button",disabled:!s.canCheckout,onClick:e[3]||(e[3]=(...t)=>s.checkout&&s.checkout(...t))}," Proceed to Checkout ",8,F)])])):(0,n.Q3)("",!0),0===c.cartItems.length?((0,n.uX)(),(0,n.CE)("div",S," You currently have no items in your cart! ")):(0,n.Q3)("",!0)])}o(8111),o(2489);var _=o(4232);const I=["src"],O={class:"details-wrap"},X=["onClick"];function j(t,e,o,r,a,c){return(0,n.uX)(),(0,n.CE)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.products,e=>((0,n.uX)(),(0,n.CE)("div",{class:"product-container",key:e.id},[(0,n.Lk)("img",{class:"product-image",src:e.imageUrl},null,8,I),(0,n.Lk)("div",O,[(0,n.Lk)("h3",null,(0,_.v_)(e.name),1),(0,n.Lk)("p",null,(0,_.v_)(e.price),1),(0,n.Lk)("p",null,(0,_.v_)(e.location),1)]),(0,n.Lk)("button",{onClick:o=>t.$emit("remove-from-cart",e.id),class:"remove-button"},"Remove from Cart",8,X)]))),128))])}var A={name:"ShoppingCartList",props:["products"]};const N=(0,h.A)(A,[["render",j]]);var $=N,Q={name:"ShoppingCartPage",components:{ShoppingCartList:$},data(){return{cartItems:[],name:localStorage.getItem("checkout_name")||"",phone:localStorage.getItem("checkout_phone")||""}},computed:{validName(){return/^[A-Za-z\s]+$/.test(this.name)},validPhone(){return/^[0-9]{10,11}$/.test(this.phone)},canCheckout(){return this.validName&&this.validPhone}},methods:{async removeFromCart(t){const e=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart/${t}`,{method:"DELETE"}),o=await e.json();this.cartItems=o.filter(t=>null!==t)},checkout(){localStorage.setItem("checkout_name",this.name),localStorage.setItem("checkout_phone",this.phone),alert("Checkout complete! Thank you")}},async created(){const t=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart"),e=await t.json();this.cartItems=e.filter(t=>null!==t)}};const T=(0,h.A)(Q,[["render",P]]);var x=T;const U={key:0},V={class:"img-wrap"},D=["src"],B={class:"product-details"},J={class:"price"},W={class:"location"},K={class:"spaces-left"},M=["disabled"],R={key:1};function z(t,e,o,r,a,c){const s=(0,n.g2)("NotFoundPage");return(0,n.uX)(),(0,n.CE)("div",null,[a.product?((0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",V,[(0,n.Lk)("img",{src:a.product.imageUrl},null,8,D)]),(0,n.Lk)("div",B,[(0,n.Lk)("h1",null,(0,_.v_)(a.product.name),1),(0,n.Lk)("h3",J,(0,_.v_)(a.product.price),1),(0,n.Lk)("h3",W,(0,_.v_)(a.product.location),1),(0,n.Lk)("h3",K,"Spaces left: "+(0,_.v_)(a.product.spaces??10),1),(0,n.Lk)("button",{disabled:0===a.product.spaces,onClick:e[0]||(e[0]=t=>c.addToCart(a.product)),class:"add-to-cart"},(0,_.v_)(0===a.product.spaces?"Sold Out":"Add to Cart"),9,M)])])):((0,n.uX)(),(0,n.CE)("div",R,[(0,n.bF)(s)]))])}o(3579);function H(t,e,o,r,a,c){return(0,n.uX)(),(0,n.CE)("h1",null,"404: Page Not Found")}var Y={name:"NotFoundPage"};const Z=(0,h.A)(Y,[["render",H]]);var q=Z,G={name:"ProductDetailPage",setup(){const t=(0,n.WQ)("updateSpacesLeft");return{updateSpacesLeft:t}},data(){return{product:{},cartItems:[]}},computed:{itemIsInCart(){return this.cartItems.some(t=>t&&t.id===this.$route.params.productId)}},methods:{async addToCart(){await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.product.id})}),alert("Successfully added item to cart!");const t=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/products/${this.product.id}`);this.product=await t.json();const e=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart");this.cartItems=await e.json()},async removeFromCart(t){await fetch(`https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart/${t}`,{method:"DELETE"});const e=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/products/${t}`);this.product=await e.json();const o=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart");this.cartItems=await o.json()}},components:{NotFoundPage:q},async created(){const t=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/products/${this.$route.params.productId}`);this.product=await t.json();const e=localStorage.getItem(`spaces_${this.product.id}`);e&&(this.product.spaces=parseInt(e));const o=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart");this.cartItems=await o.json()}};const tt=(0,h.A)(G,[["render",z]]);var et=tt;const ot={class:"page-wrap"};function rt(t,e,o,r,a,c){const s=(0,n.g2)("ProductsList");return(0,n.uX)(),(0,n.CE)("div",ot,[e[0]||(e[0]=(0,n.Lk)("h1",null,"Products",-1)),(0,n.bF)(s,{products:a.products},null,8,["products"])])}o(1701);const nt={class:"controls"},at={class:"grid-wrap"},ct=["src"],st={class:"product-name"},ut={class:"product-price"},it={class:"product-location"},dt={class:"spaces-left"};function pt(t,e,o,a,c,s){const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",nt,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>c.searchQuery=t),type:"text",placeholder:"Search by class name...",class:"search-input"},null,512),[[r.Jo,c.searchQuery]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>c.sortField=t),class:"sort-dropdown"},[...e[3]||(e[3]=[(0,n.Fv)('<option value="">Sort By</option><option value="name">Name</option><option value="location">Location</option><option value="price">Price</option><option value="spaces">Spaces</option>',5)])],512),[[r.u1,c.sortField]]),(0,n.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.toggleSortOrder&&s.toggleSortOrder(...t)),class:"sort-button"},(0,_.v_)("asc"===c.sortOrder?"⬆ Asc":"⬇ Desc"),1)]),(0,n.Lk)("div",at,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredSortedProducts,t=>((0,n.uX)(),(0,n.CE)("div",{class:"product-item",key:t.id},[(0,n.Lk)("img",{src:t.imageUrl},null,8,ct),(0,n.Lk)("h3",st,(0,_.v_)(t.name),1),(0,n.Lk)("p",ut,(0,_.v_)(t.price),1),(0,n.Lk)("p",it,(0,_.v_)(t.location),1),(0,n.Lk)("p",dt,"Spaces left: "+(0,_.v_)(t.spaces??10),1),(0,n.bF)(u,{to:"/products/"+t.id},{default:(0,n.k6)(()=>[...e[4]||(e[4]=[(0,n.Lk)("button",null,"View Details",-1)])]),_:1},8,["to"])]))),128))])])}var lt={props:["products"],data(){return{searchQuery:"",sortField:"",sortOrder:"asc"}},computed:{filteredSortedProducts(){let t=[...this.products];if(""!==this.searchQuery.trim()){const e=this.searchQuery.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e))}return this.sortField&&t.sort((t,e)=>{let o=t[this.sortField],r=e[this.sortField];return"string"===typeof o&&(o=o.toLowerCase()),"string"===typeof r&&(r=r.toLowerCase()),"asc"===this.sortOrder?o>r?1:-1:o<r?1:-1}),t}},methods:{toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc"}}};const ht=(0,h.A)(lt,[["render",pt]]);var mt=ht,vt={name:"ProductsPageView",components:{ProductsList:mt},data(){return{products:[]}},async created(){await this.fetchProducts()},methods:{async fetchProducts(){try{const t=await fetch("https://cst3144-backend-3vp3.onrender.com/api/products"),e=await t.json();Array.isArray(e)&&(this.products=e.filter(t=>null!==t).map(t=>({...t,spaces:"number"===typeof t.spaces?t.spaces:10})))}catch(t){console.error(t)}}}};const ft=(0,h.A)(vt,[["render",rt]]);var kt=ft;(0,r.Ef)(g).use(b.aE({history:b.LA("/"),routes:[{path:"/",redirect:"/products"},{path:"/cart",component:x},{path:"/products",component:kt},{path:"/products/:productId",component:et},{path:"/:pathMatch(.*)*",component:q}]})).mount("#app")}},e={};function o(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,r,n,a){if(!r){var c=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],a=t[d][2];for(var s=!0,u=0;u<r.length;u++)(!1&a||c>=a)&&Object.keys(o.O).every(function(t){return o.O[t](r[u])})?r.splice(u--,1):(s=!1,a<c&&(c=a));if(s){t.splice(d--,1);var i=n();void 0!==i&&(e=i)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[r,n,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,a,c=r[0],s=r[1],u=r[2],i=0;if(c.some(function(e){return 0!==t[e]})){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(u)var d=u(o)}for(e&&e(r);i<c.length;i++)a=c[i],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(d)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],function(){return o(2759)});r=o.O(r)})();
//# sourceMappingURL=app.3d364364.js.map