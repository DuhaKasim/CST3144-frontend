(function(){"use strict";var t={9739:function(t,e,o){var r=o(5130),a=o(6768);const n={class:"page-wrap"};function s(t,e,o,r,s,c){const u=(0,a.g2)("NavBar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(u),(0,a.bF)(i)])}const c={class:"nav-bar"},u=["src"],i={class:"center-nav"};function l(t,e,o,r,n,s){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(l,{to:"/products",class:"logo-wrap"},{default:(0,a.k6)(()=>[(0,a.Lk)("img",{src:n.logo,class:"logo"},null,8,u)]),_:1}),(0,a.Lk)("div",i,[(0,a.bF)(l,{to:"/",class:"nav-link"},{default:(0,a.k6)(()=>[...e[0]||(e[0]=[(0,a.eW)("Home",-1)])]),_:1}),(0,a.bF)(l,{to:"/products",class:"nav-link"},{default:(0,a.k6)(()=>[...e[1]||(e[1]=[(0,a.eW)("Products",-1)])]),_:1})]),(0,a.bF)(l,{to:"/cart",class:"cart-link"},{default:(0,a.k6)(()=>[...e[2]||(e[2]=[(0,a.Lk)("button",null,"Shopping Cart",-1)])]),_:1})])}var d=o.p+"img/logo.ad706654.png",p={name:"NavBar",data(){return{logo:d}}},h=o(1241);const m=(0,h.A)(p,[["render",l]]);var v=m,f={name:"App",components:{NavBar:v}};const k=(0,h.A)(f,[["render",s]]);var g=k,b=o(8512);const C={class:"page-wrap"},L={key:0},y={class:"checkout-form"},w={key:0,class:"error-msg"},I={key:1,class:"error-msg"},S=["disabled"],F={key:1};function _(t,e,o,n,s,c){const u=(0,a.g2)("ShoppingCartList");return(0,a.uX)(),(0,a.CE)("div",C,[e[4]||(e[4]=(0,a.Lk)("h1",null,"Shopping Cart",-1)),s.cartItems.length>0?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.bF)(u,{onRemoveFromCart:e[0]||(e[0]=t=>c.removeFromCart(t)),products:s.cartItems},null,8,["products"]),(0,a.Lk)("div",y,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>s.name=t),placeholder:"Enter your name"},null,512),[[r.Jo,s.name]]),s.name&&!c.validName?((0,a.uX)(),(0,a.CE)("p",w,"Name must contain letters only.")):(0,a.Q3)("",!0),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>s.phone=t),placeholder:"Enter your phone number"},null,512),[[r.Jo,s.phone]]),s.phone&&!c.validPhone?((0,a.uX)(),(0,a.CE)("p",I," Phone must contain numbers only. ")):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"checkout-button",disabled:!c.canCheckout,onClick:e[3]||(e[3]=(...t)=>c.checkout&&c.checkout(...t))}," Proceed to Checkout ",8,S)])])):(0,a.Q3)("",!0),0===s.cartItems.length?((0,a.uX)(),(0,a.CE)("div",F," You currently have no items in your cart! ")):(0,a.Q3)("",!0)])}o(8111),o(2489);var E=o(4232);const P=["src"],O={class:"details-wrap"},X=["onClick"];function A(t,e,o,r,n,s){return(0,a.uX)(),(0,a.CE)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.products,e=>((0,a.uX)(),(0,a.CE)("div",{class:"product-container",key:e.id},[(0,a.Lk)("img",{class:"product-image",src:e.imageUrl},null,8,P),(0,a.Lk)("div",O,[(0,a.Lk)("h3",null,(0,E.v_)(e.name),1),(0,a.Lk)("p",null,(0,E.v_)(e.price),1),(0,a.Lk)("p",null,(0,E.v_)(e.location),1)]),(0,a.Lk)("button",{onClick:o=>t.$emit("remove-from-cart",e.id),class:"remove-button"},"Remove from Cart",8,X)]))),128))])}var j={name:"ShoppingCartList",props:["products"]};const N=(0,h.A)(j,[["render",A]]);var Q=N,$={name:"ShoppingCartPage",components:{ShoppingCartList:Q},data(){return{cartItems:[],name:localStorage.getItem("checkout_name")||"",phone:localStorage.getItem("checkout_phone")||""}},computed:{validName(){return/^[A-Za-z\s]+$/.test(this.name)},validPhone(){return/^[0-9]{10,11}$/.test(this.phone)},canCheckout(){return this.validName&&this.validPhone}},methods:{async removeFromCart(t){const e=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart/${t}`,{method:"DELETE"}),o=await e.json();this.cartItems=o.filter(t=>null!==t)},checkout(){localStorage.setItem("checkout_name",this.name),localStorage.setItem("checkout_phone",this.phone),alert("Checkout complete! Thank you")}},async created(){const t=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart"),e=await t.json();this.cartItems=e.filter(t=>null!==t)}};const T=(0,h.A)($,[["render",_]]);var x=T;const U={key:0},V={class:"img-wrap"},B=["src"],D={class:"product-details"},J={class:"price"},W={class:"location"},K={class:"spaces-left"},M=["disabled"],R={key:1};function z(t,e,o,r,n,s){const c=(0,a.g2)("NotFoundPage");return(0,a.uX)(),(0,a.CE)("div",null,[n.product?((0,a.uX)(),(0,a.CE)("div",U,[(0,a.Lk)("div",V,[(0,a.Lk)("img",{src:n.product.imageUrl},null,8,B)]),(0,a.Lk)("div",D,[(0,a.Lk)("h1",null,(0,E.v_)(n.product.name),1),(0,a.Lk)("h3",J,(0,E.v_)(n.product.price),1),(0,a.Lk)("h3",W,(0,E.v_)(n.product.location),1),(0,a.Lk)("h3",K,"Spaces left: "+(0,E.v_)(n.product.spaces??10),1),(0,a.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>s.addToCart&&s.addToCart(...t)),disabled:n.product.spaces<=0||s.itemIsInCart,class:(0,E.C4)(["add-to-cart",{"grey-button":s.itemIsInCart}])},(0,E.v_)(s.itemIsInCart?"Item already in cart":n.product.spaces<=0?"Sold Out":"Add to Cart"),11,M)])])):((0,a.uX)(),(0,a.CE)("div",R,[(0,a.bF)(c)]))])}o(3579);function H(t,e,o,r,n,s){return(0,a.uX)(),(0,a.CE)("h1",null,"404: Page Not Found")}var Y={name:"NotFoundPage"};const Z=(0,h.A)(Y,[["render",H]]);var q=Z,G={name:"ProductDetailPage",setup(){const t=(0,a.WQ)("updateSpacesLeft");return{updateSpacesLeft:t}},data(){return{product:{},cartItems:[]}},computed:{itemIsInCart(){return this.cartItems.some(t=>t&&t.id===this.$route.params.productId)}},methods:{async addToCart(){await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.product.id})}),alert("Successfully added item to cart!"),this.product.spaces>0&&(this.product.spaces--,localStorage.setItem(`spaces_${this.product.id}`,this.product.spaces),this.updateSpacesLeft(this.product.id,1));const t=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart");this.cartItems=await t.json()}},components:{NotFoundPage:q},async created(){const t=await fetch(`https://cst3144-backend-3vp3.onrender.com/api/products/${this.$route.params.productId}`);this.product=await t.json();const e=localStorage.getItem(`spaces_${this.product.id}`);e&&(this.product.spaces=parseInt(e));const o=await fetch("https://cst3144-backend-3vp3.onrender.com/api/users/12345/cart");this.cartItems=await o.json()}};const tt=(0,h.A)(G,[["render",z]]);var et=tt;const ot={class:"page-wrap"};function rt(t,e,o,r,n,s){const c=(0,a.g2)("ProductsList");return(0,a.uX)(),(0,a.CE)("div",ot,[e[0]||(e[0]=(0,a.Lk)("h1",null,"Products",-1)),(0,a.bF)(c,{products:n.products},null,8,["products"])])}o(1701);const at={class:"controls"},nt={class:"grid-wrap"},st=["src"],ct={class:"product-name"},ut={class:"product-price"},it={class:"product-location"},lt={class:"spaces-left"};function dt(t,e,o,n,s,c){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",at,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.searchQuery=t),type:"text",placeholder:"Search by class name...",class:"search-input"},null,512),[[r.Jo,s.searchQuery]]),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.sortField=t),class:"sort-dropdown"},[...e[3]||(e[3]=[(0,a.Fv)('<option value="">Sort By</option><option value="name">Name</option><option value="location">Location</option><option value="price">Price</option><option value="spaces">Spaces</option>',5)])],512),[[r.u1,s.sortField]]),(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>c.toggleSortOrder&&c.toggleSortOrder(...t)),class:"sort-button"},(0,E.v_)("asc"===s.sortOrder?"⬆ Asc":"⬇ Desc"),1)]),(0,a.Lk)("div",nt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(c.filteredSortedProducts,t=>((0,a.uX)(),(0,a.CE)("div",{class:"product-item",key:t.id},[(0,a.Lk)("img",{src:t.imageUrl},null,8,st),(0,a.Lk)("h3",ct,(0,E.v_)(t.name),1),(0,a.Lk)("p",ut,(0,E.v_)(t.price),1),(0,a.Lk)("p",it,(0,E.v_)(t.location),1),(0,a.Lk)("p",lt,"Spaces left: "+(0,E.v_)(t.spaces??10),1),(0,a.bF)(u,{to:"/products/"+t.id},{default:(0,a.k6)(()=>[...e[4]||(e[4]=[(0,a.Lk)("button",null,"View Details",-1)])]),_:1},8,["to"])]))),128))])])}var pt={props:["products"],data(){return{searchQuery:"",sortField:"",sortOrder:"asc"}},computed:{filteredSortedProducts(){let t=[...this.products];if(""!==this.searchQuery.trim()){const e=this.searchQuery.toLowerCase();t=t.filter(t=>t.name.toLowerCase().includes(e))}return this.sortField&&t.sort((t,e)=>{let o=t[this.sortField],r=e[this.sortField];return"string"===typeof o&&(o=o.toLowerCase()),"string"===typeof r&&(r=r.toLowerCase()),"asc"===this.sortOrder?o>r?1:-1:o<r?1:-1}),t}},methods:{toggleSortOrder(){this.sortOrder="asc"===this.sortOrder?"desc":"asc"}}};const ht=(0,h.A)(pt,[["render",dt]]);var mt=ht,vt={name:"ProductsPageView",components:{ProductsList:mt},data(){return{products:[],spacesLeft:(0,a.WQ)("spacesLeft")}},async created(){try{const t=await fetch("https://cst3144-backend-3vp3.onrender.com/api/products"),e=await t.json();Array.isArray(e)&&(this.products=e.filter(t=>null!==t).map(t=>{const e=localStorage.getItem(`spaces_${t.id}`);return{...t,spaces:e?parseInt(e):10}}))}catch(t){console.error(t)}}};const ft=(0,h.A)(vt,[["render",rt]]);var kt=ft;(0,r.Ef)(g).use(b.aE({history:b.LA("/"),routes:[{path:"/",redirect:"/products"},{path:"/cart",component:x},{path:"/products",component:kt},{path:"/products/:productId",component:et},{path:"/:pathMatch(.*)*",component:q}]})).mount("#app")}},e={};function o(r){var a=e[r];if(void 0!==a)return a.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,r,a,n){if(!r){var s=1/0;for(l=0;l<t.length;l++){r=t[l][0],a=t[l][1],n=t[l][2];for(var c=!0,u=0;u<r.length;u++)(!1&n||s>=n)&&Object.keys(o.O).every(function(t){return o.O[t](r[u])})?r.splice(u--,1):(c=!1,n<s&&(s=n));if(c){t.splice(l--,1);var i=a();void 0!==i&&(e=i)}}return e}n=n||0;for(var l=t.length;l>0&&t[l-1][2]>n;l--)t[l]=t[l-1];t[l]=[r,a,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.p="/"}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,n,s=r[0],c=r[1],u=r[2],i=0;if(s.some(function(e){return 0!==t[e]})){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(u)var l=u(o)}for(e&&e(r);i<s.length;i++)n=s[i],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(l)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[504],function(){return o(9739)});r=o.O(r)})();
//# sourceMappingURL=app.9ff975cb.js.map